---
Date: 2024-12-20
Category: Toy Project
---
### **1. 작은 프로젝트 단계별 접근**

#### **1) 헬스 체크 프로그램**

- **목표**: AI 엔진의 상태를 확인하고, 장애 발생 시 재시작 기능을 구현.
- **학습 및 실습 기술**:
    - Python으로 `ps`, `netstat` 등을 사용한 프로세스 상태 체크.
    - 상태를 HTTP 요청으로 중앙 관리 서버에 전송.

#### **2) 작업 큐 설계**

- **목표**: 클라이언트 요청을 큐에 저장하고, 상태 기반으로 작업을 분배.
- **학습 및 실습 기술**:
    - Redis나 RabbitMQ를 사용해 큐 관리 실습.
    - 라운드 로빈 방식의 작업 분배 로직 구현.

#### **3) 상태 기반 로드 밸런싱**

- **목표**: 정상 상태의 엔진에만 작업을 분배하는 로직 구현.
- **학습 및 실습 기술**:
    - 엔진 상태 데이터를 기반으로 동적으로 작업을 분배.
    - 상태 데이터는 Redis나 MySQL에 저장.

#### **4) 모니터링 대시보드**

- **목표**: 엔진 상태와 작업 상태를 실시간으로 시각화.
- **학습 및 실습 기술**:
    - Prometheus + Grafana 설정 및 데이터 시각화.
    - Vue.js 또는 React를 사용해 간단한 대시보드 제작.


### **2. 적용 전에 준비해야 할 사항**

1. **모듈 통합**:
    
    - 작은 프로젝트를 결합하여 전체 시스템의 작동을 점검.
    - 통합 후 발생할 수 있는 데이터 불일치나 성능 문제를 미리 해결.
2. **설계 문서 작성**:
    
    - 전체 시스템의 구조와 데이터 흐름을 설계 문서로 작성.
    - 주요 기술 결정(예: RabbitMQ vs Redis)과 설계 의도를 명확히 기록.
3. **성능 테스트 및 검증**:
    
    - 작은 프로젝트 단계에서 성능 테스트를 미리 실행해 병목 구간을 파악.
    - 예: 작업 큐에서 요청 처리 속도, 장애 복구 시 소요 시간.


### **1. 첫 번째 프로젝트: 헬스 체크 프로그램**

**목표**: AI 엔진의 상태를 확인하고, 비정상 상태일 경우 이를 복구하는 프로그램을 만듭니다.

#### **해야 할 작업**:

1. **프로세스 상태 확인**:
    - `ps` 또는 `netstat` 명령을 사용해 엔진 프로세스가 실행 중인지 확인.
2. **상태 보고**:
    - 상태를 중앙 관리 서버에 전송(HTTP POST 요청).
3. **자동 복구**:
    - 엔진이 종료된 상태면, `subprocess` 또는 스크립트를 실행해 재시작.

#### **학습 포인트**:

- Python으로 로컬 프로세스 상태 확인 및 HTTP 요청 처리.
- 장애 복구 스크립트 작성.

**예시 결과물**:

- `health_check.py`: AI 엔진 상태를 주기적으로 확인하고 복구하는 스크립트.

---

### **2. 두 번째 프로젝트: 작업 큐 설계**

**목표**: 클라이언트 요청을 작업 큐에 저장하고, 이를 정상 상태의 엔진으로 분배합니다.

#### **해야 할 작업**:

1. **큐 구현**:
    - Redis를 사용해 작업 요청을 저장하는 큐 설계.
2. **작업 분배**:
    - 큐에서 요청을 가져와 엔진에 전송.
    - 엔진 상태를 기반으로 작업을 분배(간단한 라운드 로빈 방식).

#### **학습 포인트**:

- Redis 큐 설정 및 작업 분배 로직.
- Python으로 Redis 작업 및 멀티스레드 작업 처리.

**예시 결과물**:

- 작업 요청 큐(요청을 Redis에 저장 및 읽기).
- 상태 기반 작업 분배 로직.

---

### **3. 세 번째 프로젝트: 중앙 관리 서버**

**목표**: 헬스 데이터를 수집하고, 작업 큐와 연동하여 전체 시스템 상태를 관리합니다.

#### **해야 할 작업**:

1. **헬스 데이터 수집**:
    - 각 헬스 체크 프로그램이 보고한 데이터를 수집.
2. **API 설계**:
    - 작업 요청 처리 API 및 상태 확인 API 구현.
3. **상태 저장**:
    - 엔진 상태 데이터를 MySQL 또는 Redis에 저장.

#### **학습 포인트**:

- Spring Boot로 RESTful API 설계.
- MySQL 또는 Redis를 활용한 데이터 저장.

**예시 결과물**:

- 중앙 관리 서버 API(엔진 상태 확인, 작업 요청 처리).

---

### **4. 네 번째 프로젝트: 모니터링 대시보드**

**목표**: 엔진 상태, 작업 큐 상태를 실시간으로 시각화합니다.

#### **해야 할 작업**:

1. **Prometheus와 Grafana 설정**:
    - Prometheus로 헬스 데이터를 수집.
    - Grafana로 데이터를 시각화.
2. **간단한 웹 UI**:
    - React 또는 Vue.js로 엔진 상태 및 작업 큐 상태를 조회.

#### **학습 포인트**:

- Prometheus/Grafana 설정 및 데이터 연동.
- 간단한 프론트엔드 개발(Vue.js/React).

**예시 결과물**:

- 시각화된 대시보드(엔진 상태, 작업 처리량).

---

### **작업 순서와 이유**

1. **헬스 체크 프로그램**: 시스템의 기본 안정성을 보장하는 기능.
2. **작업 큐 설계**: 작업 흐름의 핵심 로직.
3. **중앙 관리 서버**: 통합 관리를 위한 백엔드.
4. **모니터링 대시보드**: 실시간 관리를 위한 시각화.

---

### **다음 단계**

1. 첫 번째 프로젝트인 **헬스 체크 프로그램**을 시작해보세요.
    - Python으로 엔진 상태 확인 및 보고 스크립트를 작성.
2. 구현 과정에서 발생하는 문제나 의문이 있다면, 질문 주세요. 필요하면 바로 코드를 함께 작성할 수 있습니다.