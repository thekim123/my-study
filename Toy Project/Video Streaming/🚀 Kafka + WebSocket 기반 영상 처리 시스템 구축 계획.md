
---

## 📚 **1. 프로젝트 목표**

1. **실시간 스트리밍 처리:** WebSocket을 통해 실시간으로 프레임을 사용자에게 스트리밍 제공.
2. **사용자 보정 기능:** 사용자가 실시간으로 프레임을 수정 및 확인할 수 있도록 지원.
3. **효율적 데이터 처리:** Kafka를 통해 Spring Boot와 Python 엔진 간 비동기 데이터 흐름 구성.
4. **확장성:** Python 엔진과 Spring Boot를 독립적으로 확장할 수 있도록 설계.
5. **안정성 및 데이터 손실 방지:** Kafka를 통해 데이터 손실을 최소화.

---

## 📊 **2. 시스템 아키텍처**

### 🎯 **2.1 데이터 흐름**
1. **Frontend(Vue.js)**
    
    - WebSocket을 통해 실시간 스트리밍 데이터 수신 및 보정 기능 제공.
    - 사용자가 프레임을 수정하고 요청을 보냄.
2. **Backend(Spring Boot)**
    
    - WebSocket을 통해 사용자와 실시간 통신.
    - Kafka Producer를 사용해 Python 엔진에 요청 메시지 전송.
    - Kafka Consumer로 Python 엔진의 결과를 수신.
    - 스토리지(S3, MinIO)에 데이터를 저장.
    - 메타데이터를 DB에 저장.
3. **Kafka**
    
    - `video-processing-request`: 프레임 처리 요청.
    - `video-processing-response`: 프레임 처리 결과 반환.
4. **Python 엔진 (OpenCV)**
    
    - Kafka에서 요청 메시지 수신.
    - 프레임 분할 및 비식별화 수행.
    - 결과 프레임을 스토리지에 저장.
    - Kafka를 통해 Spring Boot로 메타데이터 전송.
5. **Storage(S3, MinIO)**
    
    - 비식별화된 프레임 및 최종 영상 저장.
6. **Database (MariaDB/MySQL)**
    
    - 메타데이터 저장 및 관리.

---

# 📊 **3. 일정 요약**

| **단계**                | **기간** | **주요 작업**                        | 완료여부 |
| --------------------- | ------ | -------------------------------- | ---- |
| 환경 설정 및 인프라 구축        | 1주     | Kafka, Spring Boot, Python 환경 설정 | ✅    |
| 데이터 흐름 설계 및 구현        | 2주     | Kafka Producer/Consumer 개발       | ✅    |
| WebSocket 실시간 스트리밍 개발 | 2주     | WebSocket 실시간 스트리밍 개발            |      |
| 스토리지 및 메타데이터 관리       | 1주     | 스토리지 연동, 메타데이터 저장                | ✅    |
| 프론트엔드 개발              | 2주     | 프레임 UI 및 보정 기능 구현                |      |
| 최종 영상 합성 및 반환         | 1주     | 최종 영상 합성 및 API 구현                |      |
| 테스트 및 검증              | 1주     | 통합 테스트 및 부하 테스트                  |      |
|                       |        |                                  |      |

⏳ **총 예상 기간:** 약 **8주 (2개월)**

---
## 📆 **4. 단계별 구축 계획**

### 🚦 **단계 1: 환경 설정 및 인프라 구축**

✅ **작업 목록:**
1. Kafka 및 Zookeeper 설치 및 설정.
2. `video-processing-request`, `video-processing-response` 토픽 생성.
3. Spring Boot 프로젝트 설정(WebSocket + Kafka).
4. Python 엔진 환경 구축(OpenCV + Kafka 라이브러리).
5. S3/MinIO 스토리지 설정.

⏳ **예상 기간:** 1주

---

### 🚦 **단계 2: 데이터 흐름 설계 및 구현**

✅ **작업 목록:**
1. Spring Boot → Kafka로 요청 메시지 전송 (Producer).
2. Python 엔진 → Kafka에서 메시지 수신 및 처리 (Consumer).
3. Python 엔진 → Kafka로 결과 전송 (Producer).
4. Spring Boot → Kafka에서 결과 메시지 수신 (Consumer).

⏳ **예상 기간:** 2주

---

### 🚦 **단계 3: WebSocket 실시간 스트리밍 개발**

✅ **작업 목록:**
1. WebSocket 서버 설정 (Spring Boot).
2. 실시간 프레임 스트리밍 기능 개발.
3. 사용자 입력(프레임 보정 요청) 처리.

⏳ **예상 기간:** 2주

---

### 🚦 **단계 4: 스토리지 및 메타데이터 관리**

✅ **작업 목록:**
1. Python 엔진 → 프레임 및 영상 스토리지 저장.
2. Spring Boot → 메타데이터 DB 저장 및 조회 API 개발.
3. 스토리지 접근 권한 및 보안 설정.

⏳ **예상 기간:** 1주

---

### 🚦 **단계 5: 프론트엔드 개발**

✅ **작업 목록:**
1. 프레임 목록 표시 및 실시간 스트리밍 구현.
2. 사용자 보정 기능 개발.
3. 최종 영상 확인 및 다운로드 기능 개발.

⏳ **예상 기간:** 2주

---

### 🚦 **단계 6: 최종 영상 합성 및 반환**

✅ **작업 목록:**
1. Python 엔진 → 수정된 프레임으로 최종 영상 합성.
2. 최종 영상 스토리지 저장.
3. Spring Boot → 최종 영상 반환 API 개발.

⏳ **예상 기간:** 1주

---

### 🚦 **단계 7: 테스트 및 검증**

✅ **작업 목록:**
1. Kafka 메시지 흐름 검증.
2. Python 엔진 비식별화 정확도 검증.
3. WebSocket 실시간 스트리밍 검증.
4. 성능 및 부하 테스트.

⏳ **예상 기간:** 1주

---

### 🚦 **단계 8: 운영 및 모니터링**

✅ **작업 목록:**
1. Kafka 모니터링 도구 (Grafana + Prometheus) 설정.
2. Spring Boot 및 Python 엔진 로그 모니터링.
3. S3/MinIO 스토리지 사용량 모니터링.

⏳ **지속적 운영**

---

## 🛡️ **5. 기대 효과**
1. **실시간 스트리밍 처리:** WebSocket으로 실시간 사용자 경험 제공.
2. **데이터 일관성:** Kafka를 통해 안전한 데이터 흐름 보장.
3. **확장성:** Python 엔진과 Spring Boot를 독립적으로 확장 가능.
4. **유지보수성:** 책임 분리가 명확하여 유지보수가 용이함.
5. **안정성:** 데이터 손실 최소화 및 에러 복구 용이.

