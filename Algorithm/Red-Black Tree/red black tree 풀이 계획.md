
## 1. 성질
- 레드 링크는 **왼쪽**으로 기울었다.
- 부모로부터의 연결이 레드 링크이면 레드 노드
- ***어떤 노드도 레드 링크 2개가 연결될 수 없다.***
- 레드 노드의 자식은 블랙
- `Null` 노드는 블랙
- 루트 노드는 블랙
- 완벽한 ***블랙*** 밸런스
- 어떤 노드에서의 바닥의 `Null` 노드까지의 모든 경로의 ***블랙*** 거리는 같다.
- 따라서 어떤 부모 노드도 두 개의 레드 노드를 자식으로 가질 수 없다.
![[Pasted image 20250126162832.png]]


## 2. 회전
### 1) 왼쪽 회전(반시계 방향)
![[Pasted image 20250126163455.png]]

- AVL의 회전과 비슷함
- 레드 블랙 트리에서는 노드의 색을 같이 옮겨줘야 된다는 점에서만 약간 차이가 있다.

### 2) 오른쪽 회전(시계 방향)
![[Pasted image 20250126163541.png]]

- 레드 노드를 부모의 오른쪽 자식으로 옮기는 것이 이상하게 보일 수 있지만, 균형을 맞춰가는 중간 단계로 사용되는 것임.

## 3. 2-노드에 삽입
- 실제 구현에서는 2-노드나 3-노드를 구분하지 않음(설명편의)
- 자식이 없는 2-노드에 삽입하는 경우
### 1) 왼쪽
![[Pasted image 20250126163857.png]]

- B 노드와 같이 자식이 없는 2-노드에 왼쪽 자식으로 삽입 되는 경우에는 3-노드 하나가 생기는 것과 동등하기 때문에 균형을 더 잡을 필요 없이 종료

### 2) 오른쪽
![[Pasted image 20250126164203.png]]

- 일단 레드 노드로 삽입을 한 후 왼쪽으로 회전을 시켜 3-노드 형태로 변환
- 블랙 노드의 왼쪽 자식이 레드 노드가 되는 구조로 바꿔주는 것

### 3). 바닥
![[Pasted image 20250126164704.png]]

- 가운데 그림의 A 노드 관점에서 봤을때 왼쪽 자식은 널 노드라서 블랙이라고 간주할 수 있다.
- 왼쪽 자식은 블랙이고, 오른쪽 자식은 레드니 왼쪽 회전을 시켜서 왼쪽 자식이 레드가 되도록 만들어주는 것이다.

## 4. 3-노드에 삽입
### 1) 큰 값
![[Pasted image 20250126165151.png]]

- 레드 노드 하나와 블랙 노드 하나를 합쳐서 3-노드 하나라고 생각할 수 있는 상황이다.
- 가운데 그림에서 B보다 큰 값이 오른쪽으로 추가되면 일시적으로 왼쪽 오른쪽 둘 다 레드가 된다.
- 동전을 뒤집듯이 레드는 블랙으로, 블랙은 레드로 노드의 색을 플립(flip) 해준다.

### 2) 작은 값
![[Pasted image 20250126173414.png]]

- 새로 추가되는 노드는 레드이기 때문에 왼쪽에서 두 번째 그림에서는 왼쪽으로 레드 두 개가 기울어져 있는 구조가 된다.
- C 노드 관점에서 볼 때는 왼쪽 자식과 왼쪽 자식의 왼쪽 자식이 레드인 상황이다.
- 이런 경우에는 오른쪽 회전으로 좌우 대칭되는 상황으로 바꿔주면 바로 앞에서 봤던 좌우가 레드인 상황이 된다.

### 3) 사이 값
![[Pasted image 20250126173838.png]]


### 4) 바닥
![[Pasted image 20250126182112.png]]


## 5. 레시피
![[Pasted image 20250126182914.png]]